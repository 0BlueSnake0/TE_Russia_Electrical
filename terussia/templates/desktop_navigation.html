{% load static %}  
{% load customtags %}  


<nav id="desktop-navigation">
    <a href="https://terussia.ru/" id="logo"><img src="{% static 'images/icons/te-logo.png' %}"></a>  
    <ul id="buttons">
        <li class="dropdown">
            <label>
                <div style="display:flex;align-items:center;">
                    <p>Продукция</p><span></span>
                </div>
                <div class="dropdown-content">
                    <ul>
                        {% get_products as products %} 
                        {% for product in products %}
                            <li><a href="{% url 'electrical:product_detail' product_slug=product.slug %}">{{product.name}}</a></li> 
                        {% endfor %} 
                    </ul>
                </div>

            </label>
        </li>
        <li class="dropdown">
            <label>
                <div style="display:flex;align-items:center;">
                    <p>Поддержка</p><span></span>
                </div>
                <div class="dropdown-content">
                    <ul>
                        <li><a href="{% url 'electrical:catalogs' %}">Каталоги продукции</a></li>
                        <li><a href="{% url 'electrical:seminars_timetable' %}">Обучение</a></li>
                    </ul>
                </div>
            </label>
        </li>
        <li class="dropdown">
            <label>
                <div style="display:flex;align-items:center;">
                    <p>Контакты</p><span></span> 
                </div>
                <div class="dropdown-content">
                    <ul>
                        {% get_contacts as contacts %}
                        {% for contact in contacts %}
                            {% slugify_word contact as slugified_city %}
                            <li><a href="/contacts/{{slugified_city}}">{{contact}}</a></li>
                        {% endfor %}
                        <li><a href="{% url 'electrical:regions' %}">Ответственность по регионам</a></li>
                    </ul>
                </div>
            </label>
        </li>
    </ul>
</nav> 


<script>
    var desktop_navigation = document.getElementById("desktop-navigation");
    window.addEventListener(
        "scroll", function(e) {
            var scrolled = document.body.scrollTop - desktop_navigation.offsetTop;
            if (scrolled > 150 ) {
                $("#page-up").css("display", "flex");

                $("#desktop-navigation").css("position", "fixed");
                $("#desktop-navigation").css("top", "0");
                $("#desktop-navigation").css("left", "0");
                $("#desktop-navigation").css("padding", "1vw");
                $("#desktop-navigation").css("box-shadow", "4px 4px 47px 11px rgba(0, 0, 0, 0.2)");
            }
            else {
                $("#page-up").css("display", "none");

                $("#desktop-navigation").css("position", "relative");
                $("#desktop-navigation").css("padding", "0vw");
                $("#desktop-navigation").css("box-shadow", "0px 0px 0px 0px");
            }
        }
    );
</script>
